# 新卒研修用
このリポジトリは新卒研修で使用するリポジトリです。

---

# Gitの運用ルールについて
## master ブランチでのルール (現在のブランチ)
### master
README.mdのみを管理し、マージ等は禁止です。

## 新規プロジェクトを作成する
masterから、
[ 年度/プロジェクト名/master ]
という用にブランチを作成した後、プロジェクトごとにREADMEを書き換えたものをブラン
チとしてのfirst commitとしてください。

#### 例 2019年度生がsymfonyのチュートリアルを行うプロジェクトを新規追加する場合

```
# masterブランチへ移動
git checkout master

# 新規プロジェクトのブランチを作成してチェックアウト
git checkout -b 2019/symfony_tutorial/master
```

## 既存プロジェクトで新たな作業を始める場合 (機能追加や修正など)
新規作業を行う場合は必ずIssueを作成してからおこなってください

[Issueルールの詳細](https://github.com/uqo/new-graduates#Issue)

Issueを新規作成　→　作成したIssueの番号を元にプロジェクトのmasterからブランチを切り、作業を始める

```
# 各プロジェクトのmasterにチェックアウト
git checkout {年号}/{プロジェクト名}/master

# プロジェクトのmasterを最新に
git pull

# 新規作業用ブランチを作成する
git branch {年号}/{プロジェクト名}/feature/{issue番号}

# 新規ブランチにチェックアウト（移動）
git checkout {年号}/{プロジェクト名}/feature/{issue番号}

# または
# 新規ブランチ名を指定し、ブランチを切ってチェックアウトする
git checkout -b {年号}/{プロジェクト名}/feature/{issue番号}
```

#### 例 issue #5 の場合
```
# プロジェクトのmasterにチェックアウト
git checkout 2019/symfony_tutorial/master

# issueを元に新規作業ブランチを作成してチェックアウト
git checkout -b 2019/symfony_tutorial/feature/5
```

---

# Issue
追加機能やバグなど全てissueで管理します。

作業をのタスクカードとなります。

## タイトル
できるかぎりわかりやすく要約したタイトルにします。

issueの粒度もできる限り小さいほうが良いと言われていますが、チームによるため、大きすぎなければ良いと思います。

- 悪い例）　「商品を登録・編集・削除できるようにする」
    - 一つのissueの単位が大きく、レビューがしにくい規模になってしまう
- 良い例）　「商品を登録できる機能を実装する」「商品を編集できる機能を実装する」など
    - できる限り小さめの機能単位でissueを作成する。

## 本文
実装する内容を詳しく書きます。大まかな内容は下記のような感じです。（必ずしも全てはいりません）

- 概要
    - どういった内容か、タイトルの詳しい版
- 目的
    - どういった目的でやる必要があるのか
- 内容
    - 更に詳しく説明を書く
- タスク
    - やる作業の順番などのアウトラインを書く

---

# コミット
コミットの粒度は難しいですが、できるだけ細かい粒度で行うのを心がけてください

一つの機能ではなく、一つの動きを実装したタイミングなどで行うのが好ましいと思います。

また、コミットメッセージは以下のルールでおこなってください

[Gitのコミットメッセージの書き方](https://qiita.com/itosho/items/9565c6ad2ffc24c09364)　より抜粋

## 原則
以下をコミットメッセージのフォーマットとします。

1行目：変更内容の要約（タイトル、概要）

2行目 ：空行

3行目以降：変更した理由（内容、詳細）

## 1行目
コミット種別と要約を書きます。フォーマットは以下とします。

[コミット種別] [issue番号] 内容の要約

### コミット種別
- add：新規（ファイル）機能追加
- update：機能修正（バグではない）
- fix：バグなどの修正
- remove：削除（ファイル）

### Issue番号
作業を行う内容をかいたissueの番号を記載します。

### 要約
内容の説明というより、どういう理由で行ったかを要約して書きます。
ファイル名などはコミット対象のファイル一覧を見ればわかるので、分かりづらくなければ省略しても構いません

- よくない例） IndexControllerにTopメソッドを追加
- 良い例）　Topページを表示するためのメソッドを追加

## 3行目
要約で収まらない内容や、もう少し詳しく説明を書く必要がある場合、備考的なコメントを書きます。

要約で十分な場合はなくても構いません。

## 例
```add #25 商品の金額を円で表示できるServiceを追加```

```update #25 商品の金額をドルでも表示できるようにした```

---

# PullRequest
## タイトル
大体issue内容と同じで問題ありませんが、issueでは「問題」や「課題」のことを指すタイトルに対して、

プルリクエストでは「何を解決したか」わかりやすい文言にする事が良いと思います。
- Issueタイトル例：ユーザーが登録情報を編集できるようにしたい
- PullRequestタイトル例 ①：ユーザーが登録情報を編集できるようにした
- PullRequestタイトル例 ②：ユーザーが登録情報を編集できる機能を実装

### [WIP] 作業中のプルリクエスト
また、作業完了していない段階でプルリクエストを作成した場合はタイトルの最初に **[WIP]** とつけましょう。

外れている場合は作業が完了しており、レビュー待ちの段階である意味となります。

新たなブランチを切り、作業を開始した段階でプルリクエストを作成すると、メンターやレビュアーも進捗等がわかりやすいため、

作業開始をしたタイミングで **[WIP]の状態でPRを作成することを推奨します**。

※ WIP (Work In Pogress) 現在取り掛かっているという意味

## 本文
本文のフォーマットは以下のようなイメージになります。

特段レビュアーに伝えるべき内容などがない場合は、関連issue番号のみでも良いと思います。（他もできればあったほうが良い）

- 概要
    - 関連するissue番号を書く　```related_ #issue番号```
    - issueの問題に対して、愚弟的にどのような事を行った
- 変更内容
    - 具体的にどのファイルとかではなく、どのような機能にたいしてどのような追加・変更・修正したかを書くと良い

## Reviewers
githubのプルリクエスト画面の右側にあります。

レビューをしてもらいたい相手をここに追加することで、レビュアーにアサインすることができ、誰がレビューしているのかが分かりやすくなったりします。

## Assigness
プルリクエストに対して担当者をアサインすることが出来ます。
自分の対応のプルリクエストを作成した場合は自分をアサインしましょう。

---
# ブランチ
ブランチの運用ルールの参考

[Git-flowって何？](https://qiita.com/KosukeSone/items/514dd24828b485c69a05) (このRepositoryではdevelopブランチを省略)

---

# 参考
## Tips
[(翻訳)【GitHub公式】Gitコマンドチートシート](https://qiita.com/okamu_/items/d52a6900311ad9073628)
